function setIP(t){localStorage.setItem("ip","http://"+t),ons.notification.toast("IP definido",{timeout:15e3})}function setFunc(){"on"==localStorage.getItem("cozinha")?document.querySelector("#cozinha").checked=!0:document.querySelector("#cozinha").checked=!1,"on"==localStorage.getItem("sala")?document.querySelector("#sala").checked=!0:document.querySelector("#sala").checked=!1}function getFunc(){axios.get(localStorage.getItem("ip")+"/gpio/list").then(function(t){for(i in t.data)4==t.data[i].pin&&(0==t.data[i].status?localStorage.setItem("cozinha","off"):localStorage.setItem("cozinha","on")),17==t.data[i].pin&&(0==t.data[i].status?localStorage.setItem("sala","off"):localStorage.setItem("sala","on"));setFunc()}).catch(function(t){console.log(t),ons.notification.toast("Erro ao acessar dispositivo",{timeout:1500})})}function onkitchen(){"off"==localStorage.getItem("cozinha")&&axios.get(localStorage.getItem("ip")+"/gpio/set",{params:{pin0:4,val0:1}}).then(function(t){console.log(t),getFunc(),ons.notification.toast("Cozinha desligada",{timeout:1500})}).catch(function(t){console.log(t),ons.notification.toast("Erro ao desligar Cozinha",{timeout:1500})}),"on"==localStorage.getItem("cozinha")&&axios.get(localStorage.getItem("ip")+"/gpio/set",{params:{pin0:4,val0:0}}).then(function(t){console.log(t),getFunc(),ons.notification.toast("Cozinha ligada",{timeout:1500})}).catch(function(t){console.log(t),ons.notification.toast(t,{timeout:1500})})}function onliving(){"off"==localStorage.getItem("sala")&&axios.get(localStorage.getItem("ip")+"/gpio/set",{params:{pin1:17,val1:1}}).then(function(t){console.log(t),getFunc(),ons.notification.toast("sala desligada",{timeout:1500})}).catch(function(t){console.log(t),ons.notification.toast("Erro ao desligar sala",{timeout:1500})}),"on"==localStorage.getItem("sala")&&axios.get(localStorage.getItem("ip")+"/gpio/set",{params:{pin1:17,val1:0}}).then(function(t){console.log(t),getFunc(),ons.notification.toast("sala ligada",{timeout:1500})}).catch(function(t){console.log(t),ons.notification.toast(t,{timeout:1500})})}function getInfo(){axios.get(localStorage.getItem("ip")+"/gpio/info").then(function(t){info=t.data,localStorage.setItem("hostname",info.name),sessionStorage.setItem("tempcpu",info.tempcpu),sessionStorage.setItem("memory",info.memory),console.log(info)}).catch(function(t){console.log(t),ons.notification.toast("Erro ao obter informações",{timeout:1500})})}function setInfo(){null!=localStorage.getItem("hostname")&&(document.querySelector("#hostname").value=localStorage.getItem("hostname")),null!=sessionStorage.getItem("memory")&&(document.querySelector("#memory").value=sessionStorage.getItem("memory")),null!=sessionStorage.getItem("tempcpu")&&(document.querySelector("#tempcpu").value=sessionStorage.getItem("tempcpu"))}ons.platform.isIPhoneX()&&document.documentElement.setAttribute("onsflag-iphonex-portrait",""),ons.platform.isIPhoneX()&&document.documentElement.setAttribute("onsflag-iphonex-landscape",""),ons.ready(function(){null===localStorage.getItem("ip")&&myNavigator.pushPage("setup.html")}),document.addEventListener("dragdown",function(t){(t.target.matches("#card_cozinha")||t.target.matches("#card_sala"))&&(getFunc(),console.log("getFunc")),t.target.matches("#card_info")&&(getInfo(),setInfo())}),document.addEventListener("init",function(t){var o=t.target;"setup"===o.id?(null!=localStorage.getItem("ip")&&(document.querySelector("#ipshow").innerText="Ip definido: "+localStorage.getItem("ip")),o.querySelector("#go-to-main").onclick=function(){setIP(document.querySelector("#ip").value),document.querySelector("#myNavigator").resetToPage("index.html",{data:{title:"Auto"}}).then(getFunc())}):"setup-return"===o.id?(o.querySelector("#go-to-main").onclick=function(){setIP(document.getElementById("ip").value),document.querySelector("#myNavigator").pushPage("index.html",{data:{title:"Auto"}})},o.querySelector("#go-cancel").onclick=function(){document.querySelector("#myNavigator").pushPage("index.html",{data:{title:"Auto"}})}):"index"===o.id&&setFunc()}),window.fn={},window.fn.open=function(){document.querySelector("#menu").open()},window.fn.load=function(t,o){var e=document.querySelector("#myNavigator");document.querySelector("#menu");e.resetToPage(t,o)},window.fn.push=function(t,o){var e=document.querySelector("#myNavigator");document.querySelector("#menu");e.pushPage(t,o)},window.fn.url=function(t){myURL=encodeURI(t),window.open(myURL,"_blank")},window.fn.pop=function(){document.querySelector("#myNavigator").popPage()};